<app-main-header [headerTitle]="'SETTINGS.settings' | translate"></app-main-header>

<ion-content>
  <ng-container *ngIf="versionClick$ | async"></ng-container>
  <ion-list>
    <ion-item (click)="onClickNameItem()" button>
      <ion-icon name="person-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.name' | translate }}</ion-label>
      <ion-text>{{ name$ | async }}</ion-text>
    </ion-item>

    <ion-item (click)="onClickEmailItem()" button>
      <ion-icon name="mail-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.email' | translate }}</ion-label>
      <ion-text>{{ email$ | async }}</ion-text>
    </ion-item>

    <ion-item (click)="dateOfBirthPicker.open()" lines="inset" button>
      <ion-icon name="calendar-outline" slot="start">
      </ion-icon>
      <ion-label>{{ 'SETTINGS.dateOfBirth' | translate }}</ion-label>
      <ion-text *ngIf="!(dateOfBirth$ | async)">{{ 'SETTINGS.notSet' | translate }}</ion-text>
      <ion-datetime #dateOfBirthPicker [value]="dateOfBirth$ | async" (ionChange)="onChangeDateOfBirthPicker()"
        [hidden]="!(dateOfBirth$ | async)"></ion-datetime>
    </ion-item>

    <ion-item lines="inset">
      <ion-icon name="language-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.language' | translate }}</ion-label>
      <ion-select [value]="currentLanguage$ | async" (ionChange)="onChangeLanguage($event)">
        <ion-select-option *ngFor="let language of languages" [value]="language">
          {{ 'SETTINGS.' + language | translate }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item (click)="onClickAboutItem()" button>
      <ion-icon name="information-circle-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.about' | translate }}</ion-label>
    </ion-item>
    <ion-item lines="inset">
      <ion-icon name="documents-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.changeSchema' | translate }}</ion-label>
      <ion-select [value]="defaultSchema$ | async" (ionChange)="symptomSelected($event)">
        <ion-select-option value="default">{{ 'SETTINGS.defaultSchema' | translate }}</ion-select-option>
        <ion-select-option value="custom">{{ 'SETTINGS.customSchema' | translate }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item (click)="onClickVersion()" button>
      <ion-icon name="code-outline" slot="start"></ion-icon>
      <ion-label>{{ 'SETTINGS.version' | translate }}</ion-label>
      <ion-text>{{ appVersion }}</ion-text>
    </ion-item>

    <ion-list-header *ngIf="showDeveloperOptions === true">
      開發人員選項
    </ion-list-header>
    <ion-item *ngIf="showDeveloperOptions === true" lines="inset">
      <ion-icon name="hammer-outline" slot="start"></ion-icon>
      <ion-label>上傳測試設定</ion-label>
      <ion-select value="PROD" okText="確定" cancelText="取消" (ionChange)="uploadHostSelected($event)">
        <ion-select-option value="PROD">Production</ion-select-option>
        <ion-select-option value="DEV">Dev</ion-select-option>
        <ion-select-option value="LOCAL">Localhost</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
</ion-content>